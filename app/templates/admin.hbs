<div class="page">
  <div class="container">
    <div class="row">
      <h1 class="center-align">Admin Zone</h1>
    </div>
    <div class="row">
      <ul class="collapsible" data-collapsible="accordion">
        <li>
          <div class="collapsible-header grey lighten-5"><i class="material-icons">filter_drama</i>User Requests</div>
          <div class="collapsible-body">
            <p>User Request Table!!!</p>
          </div>
        </li>
        <li>
          <div class="collapsible-header grey lighten-5"><i class="material-icons">vpn_key</i>Roles</div>
          <div class="collapsible-body">
            <p class="flow-text">Roles have been thought of as security level passes. We defined 4 levels of user authentication and a fifth level for public access.</p>
          </div>
        </li>
        <li>
          <div class="collapsible-header grey lighten-5"><i class="material-icons">contacts</i>Users</div>
          <div class="collapsible-body">
              <ul class="collection">
                {{#each existingUsers as |user|}}
                  <li class="collection-item avatar">
                    <img src="{{user.profile.profileImageURL}}" alt="{{user.profile.displayName}}" class="circle">
                    {{#if user.editting}}
                      <form {{action "updateDisplayName" user on="submit"}}>
                          Display Name: {{input type="text" value=user.profile.displayName autofocus="true"}}<br>
                          User Name: {{input type="text" value=user.profile.username}}
                          <div class="row">
                            <div class="col s3">
                              {{t 'label.securityLevel'}}:<br>
                              <b>{{role-level user.roleLevel}}</b>
                            </div>
                            <div class="col s9 m6">
                                <p class="range-field">
                                  {{input type="range" min="0" max="3" value=user.roleLevel}}
                                </p>
                            </div>
                          </div>
                          <button class="waves-effect waves-light btn green lighten-1" type="submit">
                            <i class="material-icons right">done</i>
                            {{t 'label.save'}}
                          </button>
                      </form>
                    {{else}}
                      <span class="title">{{user.profile.displayName}}</span>
                      <br>
                      Security level:
                      <b>{{role-level user.roleLevel}}</b>
                         <a class="secondary-content pointer" {{action 'toggleEdit' user}}>
                           <div class="valign-wrapper">
                             Edit <i class="material-icons">code</i>
                           </div>
                         </a>
                    {{/if}}
                  </li>
                {{/each}}
              </ul>
          </div>
        </li>
        <li>
          <div class="collapsible-header grey lighten-5"><i class="material-icons">swap_calls</i>Users Online</div>
          <div class="collapsible-body">
            <div class="container">
              {{#unless onlineUsers}}
                <h5>No users logged</h5>
                <p>
                  Be the first one to set foot inside!
                </p>
              {{else}}
                <h5>Users online</h5>
                <div class="divider"></div>
                <br>
              {{/unless}}
                {{#each onlineUsers as |user|}}
                  <div class="chip white-text blue darken-3 bottom-pad bottom-marg">
                    <img src="{{user.img}}" alt="{{user.name}}">
                  {{user.name}}
                  </div>
                {{/each}}
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<script type="text/javascript">
$(document).ready(function(){
    $('.collapsible').collapsible({
      accordion : false // A setting that changes the collapsible behavior to expandable instead of the default accordion style
    });

    $('.dropdown-button').dropdown({
        inDuration: 300,
        outDuration: 225,
        constrain_width: false, // Does not change width of dropdown to that of the activator
        hover: false, // Activate on hover
        gutter: 0, // Spacing from edge
        belowOrigin: true, // Displays dropdown below the button
        alignment: 'left' // Displays dropdown with edge aligned to the left of button
      }
    );

  });
</script>
